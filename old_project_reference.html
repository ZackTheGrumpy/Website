<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Steam Unlock Onennabe ‚Äî Dark</title>
  <style>
    /*
      Dark theme + purple accent
      - Images forced to 2:3 (600x900) aspect ratio for grid covers
    */
    :root{
      --primary-color:#c4b5fd;           /* text accent */
      --secondary-color:#8b5cf6;         /* buttons/links */
      --background-color:#0b0f1a;        /* page bg */
      --card-bg:#111827;                 /* card bg */
      --card-elev:#0f172a;               /* alt card */
      --text-color:#e5e7eb;              /* main text */
      --text-light:#9ca3af;              /* muted text */
      --denuvo-color:#ef4444;            /* red */
      --badge-new:#22c55e;               /* green */
      --accent:#a78bfa;                  /* glow */
      --accent-2:#7c3aed;                /* deeper purple */
      --border:#1f2937;                  /* borders */
      --input:#0f172a;                   /* inputs */
      --shadow:0 6px 24px rgba(0,0,0,.35);
    }

    *{box-sizing:border-box}

    body{
      background:var(--background-color);
      color:var(--text-color);
      font-family:'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      padding:20px; margin:0;
    }

    a{ color:var(--secondary-color); }

    header{
      position:relative; z-index:10;
      display:flex; justify-content:space-between; align-items:center;
      margin-bottom:12px; gap:15px; flex-wrap:wrap;
    }

    .logo-title{display:flex; align-items:center; gap:14px;}
    .logo-title img{height:56px; width:auto; filter:drop-shadow(0 4px 12px rgba(0,0,0,.35));}

    h1{color:var(--primary-color); font-size:2rem; margin:0; letter-spacing:.5px}

    nav{margin-top:8px; display:flex; gap:16px; flex-wrap:wrap;}
    nav a{
      text-decoration:none; font-weight:600; color:var(--secondary-color);
      padding:6px 10px; border-radius:8px; transition:all .2s ease; border:1px solid transparent;
    }
    nav a:hover{ background:rgba(139,92,246,.12); border-color:rgba(139,92,246,.35); }

    /* Global promo banner (persistent across all tabs) */
    .promo-banner{
      max-width:1100px;
      margin:0 auto 18px;
      padding:12px 18px;
      border-radius:14px;
      background:linear-gradient(135deg, rgba(34,197,94,.18), rgba(129,140,248,.55));
      border:1px solid rgba(129,140,248,.8);
      color:#e5e7eb;
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      box-shadow:0 12px 32px rgba(0,0,0,.55);
    }
    .promo-main{
      font-weight:800;
      font-size:1rem;
      color:#f9fafb;
      letter-spacing:.4px;
      text-transform:uppercase;
    }
    .promo-sub{
      font-size:.9rem;
      color:var(--text-light);
    }
    .promo-sub span{
      color:#fbbf24;
      font-weight:700;
    }
    @media (max-width:640px){
      .promo-banner{
        flex-direction:column;
        align-items:flex-start;
      }
    }

    /* Search */
    .search-container{max-width:780px; margin:20px auto 36px; display:flex; gap:10px;}
    .search-input{
      flex:1; padding:12px 16px; border:1px solid var(--border); border-radius:14px; font-size:1rem; outline:none;
      background:var(--input); color:var(--text-color);
      transition:border-color .2s, box-shadow .2s;
    }
    .search-input::placeholder{ color:#6b7280; }
    .search-input:focus{ border-color:var(--secondary-color); box-shadow:0 0 0 4px rgba(139,92,246,.18); }
    .search-button{
      padding:12px 18px; background:linear-gradient(135deg, var(--secondary-color), var(--accent-2));
      border:none; color:#fff; border-radius:12px; cursor:pointer; transition:transform .15s ease, filter .2s;
      box-shadow:var(--shadow);
    }
    .search-button:hover{ filter:brightness(1.1); transform:translateY(-1px); }

    /* Games grid */
    .games-container{
      display:grid; grid-template-columns:repeat(auto-fill, minmax(240px, 1fr));
      gap:20px; max-width:1400px; margin:0 auto;
    }
    .game-card{
      background:var(--card-bg); border-radius:16px; overflow:hidden; border:1px solid var(--border);
      box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease;
      display:flex; flex-direction:column;
    }
    .game-card:hover{ transform:translateY(-4px); box-shadow:0 12px 36px rgba(0,0,0,.45); border-color:rgba(139,92,246,.45); }

    /* Force 600x900 aspect ratio (2:3). */
    .game-image{ width:100%; aspect-ratio:2/3; object-fit:cover; display:block; image-rendering:-webkit-optimize-contrast; }

    .game-info{ padding:16px; flex:1; display:flex; flex-direction:column; gap:10px; }
    .game-title{font-size:1.05rem; font-weight:700; color:#f3f4f6; display:flex; align-items:center; gap:10px;}
    .badge-new{background:var(--badge-new); color:#052e16; font-size:.68rem; font-weight:800; padding:3px 8px; border-radius:999px; text-transform:uppercase; letter-spacing:.5px}

    .game-tags{display:flex; flex-wrap:wrap; gap:8px;}
    .game-id,.denuvo-tag{padding:4px 10px; border-radius:999px; font-size:.78rem; color:#fff; display:inline-block;}
    .game-id{ background:linear-gradient(135deg, var(--secondary-color), var(--accent)); }
    .denuvo-tag{ background:var(--denuvo-color); }

    .game-meta{font-size:.9rem; color:var(--text-light); line-height:1.5;}
    .steam-link{margin-top:10px; text-decoration:none; color:var(--primary-color); font-weight:700; align-self:flex-start;}
    .steam-link:hover{text-decoration:underline;}

    /* Pagination */
    .pagination{display:flex; justify-content:center; gap:8px; margin-top:24px; flex-wrap:wrap;}
    .pagination button{
      padding:8px 14px; border:1px solid var(--border); border-radius:10px; background:var(--card-elev); color:#e5e7eb;
      cursor:pointer; transition:all .2s ease;
    }
    .pagination button:hover:not(:disabled){ border-color:var(--secondary-color); box-shadow:0 0 0 3px rgba(139,92,246,.2); }
    .pagination button:disabled{ opacity:.5; cursor:not-allowed; }
    .pagination .is-active{ background:linear-gradient(135deg, var(--secondary-color), var(--accent-2)); border-color:transparent; }
    .pagination-info{text-align:center; margin-top:12px; font-size:.92rem; color:var(--text-light);}

    .page{display:none} .page.active{display:block}

    .pricing-wrap{max-width:1980px; margin:0 auto; text-align:center;}
    .pricing-wrap h2{ color:#f3f4f6; }

    /* About page gallery ‚Äî also 2:3 aspect */
    .about-wrap{max-width:1000px; margin:0 auto; text-align:center;}
    .about-wrap h2{ color:#f3f4f6; }
    .about-tagline{color:var(--text-light); margin-bottom:20px;}
    .gallery{display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:16px; margin:22px 0 10px;}
    .gallery figure{
      margin:0; background:var(--card-bg); border-radius:12px; overflow:hidden; border:1px solid var(--border);
      box-shadow:var(--shadow); transition:transform .2s ease, box-shadow .2s ease; cursor:pointer;
    }
    .gallery figure:hover{ transform:translateY(-3px); box-shadow:0 10px 30px rgba(0,0,0,.45); }
    .gallery img{ width:100%; aspect-ratio:2/3; object-fit:cover; display:block; }
    .gallery figcaption{ padding:10px 12px; font-size:.9rem; color:var(--text-light); text-align:left; }

    .about-section{
      text-align:left; background:var(--card-bg); border:1px solid var(--border); border-radius:12px; padding:18px;
      box-shadow:var(--shadow); margin-top:18px; color:#e5e7eb;
    }
    .about-section h3{margin:0 0 8px; color:#f3f4f6;}
    .about-list{margin:0; padding-left:18px; line-height:1.6;}
    .about-note{color:var(--text-light); font-size:.9rem; margin-top:8px;}

    /* Comparison table */
    .package-table{width:100%; border-collapse:collapse; margin-top:15px; font-size:.95rem;}
    .package-table th,.package-table td{border:1px solid var(--border); padding:10px 14px; text-align:left}
    .package-table th{background:linear-gradient(135deg, var(--secondary-color), var(--accent-2)); color:#fff; text-align:center}
    .package-table tr:nth-child(even) td{background:#0f172a}
    .package-table td:nth-child(2){text-align:center; color:#f87171; font-weight:600}
    .package-table td:nth-child(3){text-align:center; color:#34d399; font-weight:600}

    /* Payment page */
    .pay-wrap{max-width:1000px; margin:0 auto;}
    .pay-wrap h2{ color:#f3f4f6; }
    .pay-grid{ display:grid; grid-template-columns:1.1fr .9fr; gap:22px; align-items:start; }
    @media (max-width:860px){ .pay-grid{grid-template-columns:1fr;} }

    .pay-card{ background:var(--card-bg); border:1px solid var(--border); border-radius:12px; padding:18px; box-shadow:var(--shadow); }
    .pay-card h3{margin:0 0 8px; color:#f3f4f6;}
    .pay-note{font-size:.9rem; color:var(--text-light); margin-top:6px;}

    .paypal-box{ background:var(--card-elev); border:1px dashed rgba(139,92,246,.45); padding:18px; border-radius:12px; }
    .paypal-placeholder{ display:flex; gap:12px; align-items:center; padding:10px 0 0; color:var(--text-light); font-size:.9rem; }
    .paypal-placeholder code{background:#0b1220; padding:2px 6px; border-radius:6px; color:#c7d2fe;}

    .qr-grid{ display:grid; grid-template-columns:repeat(auto-fit, minmax(220px, 1fr)); gap:16px; margin-top:10px; }
    .qr-card{ text-align:center; background:var(--card-elev); border:1px solid var(--border); border-radius:12px; padding:12px; box-shadow:var(--shadow); }
    .qr-card img{ width:100%; height:260px; object-fit:contain; image-rendering:-webkit-optimize-contrast; }
    .qr-card h4{margin:10px 0 4px; color:#f3f4f6;}
    .qr-card p{margin:0; font-size:.9rem; color:var(--text-light);}

    footer{margin-top:40px; text-align:center; color:var(--text-light); font-size:.9rem;}

    /* Floating CTAs */
    .purchase-link{
      position:fixed; bottom:25px; right:25px; z-index:1000;
      display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center;
      padding:14px 22px; border-radius:15px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; font-weight:bold; text-decoration:none;
      transition:all .2s ease; box-shadow:0 10px 30px rgba(124,58,237,.45); max-width:240px; animation:pulse 4s ease-in-out infinite;
    }
    .purchase-main{font-size:1.08rem; margin-bottom:4px}
    .purchase-sub{font-size:.82rem; font-weight:normal; color:#eae6ff}
    .purchase-link:hover{transform:translateY(-2px) scale(1.03); box-shadow:0 14px 40px rgba(124,58,237,.55); animation:none;}
    @keyframes pulse{0%{transform:translateY(0) scale(1)} 50%{transform:translateY(-1px) scale(1.02)} 100%{transform:translateY(0) scale(1)}}
    @media (max-width:480px){ .purchase-link{right:15px; left:15px; bottom:15px; max-width:unset} }

    .whatsapp-btn{
      position:fixed; bottom:120px; right:25px; z-index:2000;
      background:#25D366; color:#052e16; font-weight:800; text-decoration:none; padding:12px 20px; border-radius:25px; font-size:.95rem;
      box-shadow:0 8px 24px rgba(0,0,0,.45); transition:all .2s ease;
    }
    .whatsapp-btn:hover{ background:#22c55e; transform:translateY(-2px); }
    @media (max-width:480px){ .whatsapp-btn{right:15px; bottom:110px;} }

    .receipt-toast{
      position:fixed; bottom:160px; right:25px; z-index:1100; background:var(--card-bg); border:1px solid var(--border);
      box-shadow:var(--shadow); border-radius:12px; padding:10px; display:none; width:260px; color:#e5e7eb;
    }
    .receipt-toast h4{margin:0 0 8px; font-size:.95rem; color:#f3f4f6;}
    .receipt-row{display:flex; gap:8px;}
    .receipt-row input{flex:1; padding:8px 10px; border:1px solid var(--border); border-radius:8px; font-size:.9rem; background:var(--input); color:#e5e7eb;}
    .receipt-row button{padding:8px 10px; border:none; border-radius:8px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; cursor:pointer;}
    .receipt-row button:hover{filter:brightness(1.1)}

    /* Pricing: old vs new price */
    .pricing-card .pricing-price{
      margin:15px 0;
      display:flex;
      flex-direction:column;
      align-items:center;
      gap:2px;
    }
    .pricing-card .old-price{
  position:relative;
  display:inline-block;
  color:var(--text-light);
  font-size:.9rem;
  padding:0 4px;
}

.pricing-card .old-price::after{
  content:"";
  position:absolute;
  left:-8%;
  right:-8%;
  top:50%;
  height:2px;
  background:#f97373;              /* slash color */
  transform:rotate(-15deg);        /* slant angle */
  transform-origin:center;
  pointer-events:none;
}

    .pricing-card .new-price{
      font-size:1.8rem;
      font-weight:800;
      color:var(--primary-color);
    }
  </style>
</head>
<body>
  <header>
    <div class="logo-title">
      <img src="steamunlock_wannabe.png" alt="Logo"/>
      <div>
        <h1>Steam Unlock Onennabe</h1>
        <nav>
          <a href="#" onclick="showPage('home')">Home</a>
          <a href="#" onclick="showPage('about')">About App</a>
          <a href="#" onclick="showPage('pricing')">Pricing</a>
          <a href="#" onclick="showPage('payment')">Payment</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Persistent 30% OFF banner (shows on all tabs) -->
  <!--div class="promo-banner">
    <div class="promo-main">üéâ Limited-Time Launch Promo ‚Äî 30% OFF all versions</div>
    <div class="promo-sub">
      Prices shown are <strong>after</strong> discount. Enjoy <span>30% OFF</span> any plan during this promotion.
      Just mention the promo when you pay or contact us on WhatsApp.
    </div>
  </div>

  <!-- Home Page -->
  <div id="home" class="page active">
    <div class="search-container">
      <input id="searchInput" type="search" class="search-input" placeholder="Search by game name or AppID..."/>
      <button id="searchButton" class="search-button">Search</button>
    </div>

    <main>
      <div class="games-container" id="gamesContainer">
        <div class="loading" style="text-align:center; color:var(--text-light); grid-column:1/-1;">Loading games...</div>
      </div>

      <div class="pagination-info" id="paginationInfo"></div>
      <div class="pagination" id="paginationControls"></div>
    </main>
  </div>

  <!-- About Page -->
  <div id="about" class="page">
    <div class="about-wrap">
      <h2>About Our App</h2>
      <p class="about-tagline">Built by an independent local developer. Support innovation!</p>

      <!-- Image Preview Gallery (2:3) -->
      <div class="gallery">
        <figure onclick="openImage('about_preview1.jpg')">
          <img src="about_preview1.jpg" alt="App Screenshot 1" onerror="this.src='placeholder.jpg'">
          <figcaption>Modern Library View</figcaption>
        </figure>
        <figure onclick="openImage('about_preview2.jpg')">
          <img src="about_preview2.jpg" alt="App Screenshot 2" onerror="this.src='placeholder.jpg'">
          <figcaption>Quick Search & Pagination</figcaption>
        </figure>
        <figure onclick="openImage('about_preview3.jpg')">
          <img src="about_preview3.jpg" alt="App Screenshot 3" onerror="this.src='placeholder.jpg'">
          <figcaption>Clean & Lightweight</figcaption>
        </figure>
      </div>

      <!-- Steam-style Feature Lists -->
      <div class="about-section">
        <h3>What‚Äôs inside the package?</h3>
        <ul class="about-list">
          <li>Steam Unlock <strong>ONENNABE</strong> software üîì</li>
          <li>Activation tiers by SteamID (1/2/3 IDs per key)</li>
          <li>Auto online patch and auto bypass games that is protected</li>
          <li>Unlimited re-activations for the same SteamID(s)</li>
          <li>Super lightweight software</li>
          <li>No malware. No data harvesting ‚Äî we respect your privacy</li>
          <li>32,000+ Game & DLC entries supported</li>
          <li>Denuvo-protected titles: limited support, can borrow the account from us for activation</li>
          <li>18+ & VR titles support (on request)</li>
          <li>Sleek new UI ‚Äì Clean. Modern. Stylish.</li>
          <li>Auto game updates ‚Äì stay ahead with no manual hassle</li>
        </ul>
        <p class="about-note">*Support scope varies by title/platform and key type.</p>
      </div>

      <div class="about-section">
        <h3>Featured Series You‚Äôll Love</h3>
        <ul class="about-list">
          <li>Call of Duty (BO1‚Äì3, MW2‚ÄìMW3, classics)</li>
          <li>Grand Theft Auto Collection (GTA V & classics)</li>
          <li>Watch Dogs ‚Ä¢ Assassin‚Äôs Creed ‚Ä¢ Far Cry</li>
          <li>Red Dead Redemption 1 & 2 ‚Ä¢ Star Wars Jedi</li>
          <li>Many online game supported using Spacewar online patch, play with friends</li>
          <li>‚Ä¶and much more! üöÄ</li>
        </ul>
      </div>

      <!-- Package comparison -->
      <div class="about-section">
        <h3>Package Comparison</h3>
        <table class="package-table">
          <thead>
            <tr>
              <th>Feature</th>
              <th>Monthly</th>
              <th>Lifetime</th>
            </tr>
          </thead>
          <tbody>
            <tr><td>SteamID Binding</td><td>1 SteamID per CD Key</td><td>1 / 2 / 3 SteamIDs per CD Key (plan-based)</td></tr>
            <tr><td>Validity</td><td>1 Month</td><td>Forever</td></tr>
            <tr><td>Re-activations</td><td>Unlimited (same SteamID)</td><td>Unlimited (same SteamID(s))</td></tr>
            <tr><td>Denuvo Games</td><td>Not Supported</td><td>Limited Support (not all titles)</td></tr>
            <tr><td>Online Patch & Bypass</td><td>Not Available</td><td>Available</td></tr>
            <tr><td>Hardware Lock</td><td>No (change PC freely)</td><td>No (change PC freely)</td></tr>
          </tbody>
        </table>
      </div>

      <div class="about-section">
        <h3>Limitations</h3>
        <ul class="about-list">
          <li>EA App / Blizzard live-service titles are not supported unless there is patch available</li>
          <li>Ubisoft titles not supported unless a specific patch is available</li>
          <li>Game with online check not supported unless there is server emulator bypass</li>
          <li>The Enigma Protector DRM not supported</li>
          <li>Denuvo Games depend on availablity on our end.</li>
        </ul>
      </div>

      <div class="about-section">
        <h3>Why Us (vs others)?</h3>
        <ul class="about-list">
          <li>Achievements supported (where applicable)</li>
          <li>Fast and reliable support</li>
          <li>Detailed tips and tutorial provided</li>
          <li>Request game accepted and fullfilled within hours</li>
          <li>Auto Steamless to remove Steam DRM, error 60005432 or error 54</li>
          <li>Auto online patch within the app</li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Pricing Page -->
  <div id="pricing" class="page">
    <div class="pricing-wrap">
      <h2>Pricing Plans</h2>

      <div class="pricing-container" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(240px, 1fr)); gap:20px; max-width:1100px; margin:20px auto 0;">
        <!-- Monthly -->
        <div class="pricing-card" style="background:var(--card-bg); border:1px solid var(--border); border-radius:15px; padding:24px; box-shadow:var(--shadow); text-align:center; min-height:360px;">
          <h3 style="color:#f3f4f6; margin:0 0 10px">Monthly</h3>
          <div class="pricing-price">
            <span class="new-price">RM45</span>
          </div>
          <p style="color:var(--text-light)">1 SteamID per CD Key (1 month)</p>
          <p style="font-size:.85rem; color:var(--text-light);">Games revert to ‚ÄúPurchase‚Äù after expiry. No Denuvo. No online patch/launcher bypass.</p>
          <a href="https://www.paypal.com/ncp/payment/HXJHP8F87YQC6" target="_blank" class="buy-btn" data-plan="Monthly" style="display:inline-block; margin-top:auto; padding:10px 20px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; font-weight:700; border-radius:999px; text-decoration:none;">Buy Now</a>
        </div>

        <!-- Basic -->
        <div class="pricing-card" style="background:var(--card-bg); border:1px solid var(--border); border-radius:15px; padding:24px; box-shadow:var(--shadow); text-align:center; min-height:360px;">
          <h3 style="color:#f3f4f6; margin:0 0 10px">Basic</h3>
          <div class="pricing-price">
            <span class="new-price">RM130</span>
          </div>
          <p style="color:var(--text-light)">1 SteamID per CD Key (Lifetime)</p>
          <a href="https://www.paypal.com/ncp/payment/HXJHP8F87YQC6" target="_blank" class="buy-btn" data-plan="Basic" style="display:inline-block; margin-top:auto; padding:10px 20px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; font-weight:700; border-radius:999px; text-decoration:none;">Buy Now</a>
        </div>

        <!-- Premium -->
        <div class="pricing-card" style="position:relative; background:var(--card-bg); border:2px solid transparent; border-radius:15px; padding:24px; box-shadow:0 12px 30px rgba(124,58,237,.35), 0 0 0 6px rgba(124,58,237,.15); text-align:center; min-height:360px; background-image:linear-gradient(var(--card-bg),var(--card-bg)), linear-gradient(135deg, var(--secondary-color), var(--accent-2)); background-origin:border-box; background-clip:padding-box, border-box;">
          <span class="badge-featured" style="position:absolute; top:-12px; left:50%; transform:translateX(-50%); background:linear-gradient(135deg,#f59e0b,#fbbf24); color:#1f2937; font-weight:800; font-size:.72rem; padding:6px 12px; border-radius:6px; box-shadow:0 4px 12px rgba(0,0,0,.35); letter-spacing:.4px; text-transform:uppercase;">Most Popular</span>
          <h3 style="color:#f3f4f6; margin:0 0 10px">Premium</h3>
          <div class="pricing-price">
            <span class="new-price">RM250</span>
          </div>
          <p style="color:var(--text-light)">3 SteamIDs per CD Key (Lifetime)</p>
          <a href="https://www.paypal.com/ncp/payment/HXJHP8F87YQC6" target="_blank" class="buy-btn" data-plan="Premium" style="display:inline-block; margin-top:auto; padding:10px 20px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; font-weight:700; border-radius:999px; text-decoration:none;">Buy Now</a>
        </div>

        <!-- Standard -->
        <div class="pricing-card" style="background:var(--card-bg); border:1px solid var(--border); border-radius:15px; padding:24px; box-shadow:var(--shadow); text-align:center; min-height:360px;">
          <h3 style="color:#f3f4f6; margin:0 0 10px">Standard</h3>
          <div class="pricing-price">
            <span class="new-price">RM180</span>
          </div>
          <p style="color:var(--text-light)">2 SteamIDs per CD Key (Lifetime)</p>
          <a href="https://www.paypal.com/ncp/payment/HXJHP8F87YQC6" target="_blank" class="buy-btn" data-plan="Standard" style="display:inline-block; margin-top:auto; padding:10px 20px; background:linear-gradient(135deg,var(--secondary-color),var(--accent-2)); color:#fff; font-weight:700; border-radius:999px; text-decoration:none;">Buy Now</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Payment Page -->
  <div id="payment" class="page">
    <div class="pay-wrap">
      <h2>Payment Options</h2>
      <div class="pay-grid">
        <!-- PayPal -->
        <div class="pay-card">
          <h3>PayPal Checkout</h3>
          <div class="paypal-box">
            <script src="https://www.paypal.com/sdk/js?client-id=BAAgLTWExkEmBYGTk4TaOHtkdRzIt_FsGMl8aioIz-7MMePhGrRXVd8RhQB2IZzPaFjdsuGOt9rEOZcJU4&components=hosted-buttons&disable-funding=venmo&currency=MYR" data-sdk-integration-source="button-factory"></script>
            <div id="paypal-container-HXJHP8F87YQC6"></div>
            <div class="paypal-placeholder" id="paypal-fallback">
            </div>
          </div>
          <p class="pay-note">Tip: After successful payment, your receipt/transaction ID can be auto-attached to WhatsApp for faster activation.</p>
        </div>

        <!-- QR Pay -->
        <div class="pay-card">
          <h3>QR Pay</h3>
          <div class="qr-grid">
            <div class="qr-card">
              <img src="qr_tng.png" alt="TNG QR" onerror="this.src='placeholder.jpg'"/>
              <h4>TNG (Touch ‚Äôn Go)</h4>
              <p>Scan & pay. Send receipt on WhatsApp.</p>
            </div>
            <div class="qr-card">
              <img src="qr_wise.png" alt="Wise QR" onerror="this.src='placeholder.jpg'"/>
              <h4>Wise</h4>
              <p>Scan & pay. Send receipt on WhatsApp.</p>
            </div>
          </div>
          <p class="pay-note">Make sure you always keep payment receipt to claim your CDKEY.</p>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <p>¬© 2025 Barry's Games Store. All rights reserved.</p>
  </footer>

  <!-- Floating WhatsApp CTA -->
  <a id="whatsappBtn"
     href="https://wa.me/60138254541?text=Hi%20Barry,%20I%20am%20interested%20in%20Steam%20Unlock%20Onennabe!"
     target="_blank"
     class="whatsapp-btn">üí¨ WhatsApp Us</a>

  <!-- Floating Purchase CTA -->
  <a href="https://www.paypal.com/ncp/payment/HXJHP8F87YQC6" target="_blank" class="purchase-link" id="purchaseCta">
    <div class="purchase-main">Purchase App</div>
    <div class="purchase-sub">Done browsing games? Unlock them all!</div>
  </a>

  <!-- Manual receipt mini prompt -->
  <div class="receipt-toast" id="receiptToast" aria-live="polite">
    <h4>Add receipt to WhatsApp?</h4>
    <div class="receipt-row">
      <input type="text" id="receiptInput" placeholder="Enter receipt / transaction ID">
      <button id="receiptSaveBtn">Save</button>
    </div>
  </div>

  <script>
    const GENRE_MAP = {
      0:"Unknown Genre",1:"Action",2:"Strategy",3:"RPG",4:"Casual",5:"Strategy",
      28:"Simulation",18:"Sports",9:"Racing",10:"MMO",11:"FPS",12:"Puzzle",
      23:"Indie",25:"Adventure",29:"Massively Multiplayer",33:"Indie",34:"Indie",
      37:"Free To Play",50:"Indie",51:"Animation & Modeling",52:"Music",
      53:"Software & Tools",54:"Education",55:"Software & Tools",57:"Software & Tools",
      58:"Software & Tools",59:"Software & Tools",70:"Early Access",71:"Sexual Content",
      72:"Sexual Content",73:"Adventure",74:"Gore",60:"Software & Tools"
    };

    let allGames = [];
    let currentPage = 1;
    const gamesPerPage = 12;

    function showPage(pageId){
      document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function openImage(src){ window.open(src, '_blank'); }

    document.addEventListener('DOMContentLoaded', ()=>{
      // Games list
      loadGames();
      document.getElementById('searchButton').addEventListener('click', performSearch);
      document.getElementById('searchInput').addEventListener('keyup', e=>{
        if(e.key==='Enter') performSearch();
      });

      // Track plan click before PayPal
      document.querySelectorAll('.buy-btn').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const plan = btn.getAttribute('data-plan') || 'Purchase';
          localStorage.setItem('lastPlan', plan);
        });
      });

      // Try auto-detect receipt from query params
      const receipt = getReceiptFromURL();
      if(receipt){ localStorage.setItem('lastReceipt', receipt); }

      // Update WhatsApp link with known info
      const knownReceipt = localStorage.getItem('lastReceipt') || '';
      const knownPlan = localStorage.getItem('lastPlan') || '';
      updateWhatsAppLink(knownReceipt, knownPlan);

      // If user has plan but no receipt, show small prompt (once)
      if(knownPlan && !knownReceipt && !localStorage.getItem('receiptPromptShown')){
        showReceiptToast(); localStorage.setItem('receiptPromptShown','1');
      }

      // Manual receipt save
      document.getElementById('receiptSaveBtn').addEventListener('click', ()=>{
        const r = (document.getElementById('receiptInput').value || '').trim();
        if(r){
          localStorage.setItem('lastReceipt', r);
          updateWhatsAppLink(r, localStorage.getItem('lastPlan')||'');
          hideReceiptToast();
        }
      });

      // If PayPal SDK present, render buttons; else show fallback
      if (window.paypal && paypal.Buttons) {
        try{
          document.getElementById('paypal-fallback').style.display = 'none';
          paypal.Buttons({
            style: { layout: 'vertical', color: 'gold', shape: 'rect', label: 'pay' },
            createOrder: (data, actions) => {
              return actions.order.create({
                purchase_units: [{ amount: { value: '35.00', currency_code: 'MYR' }, description: 'Steam Unlock Onennabe' }]
              });
            },
            onApprove: async (data, actions) => {
              const details = await actions.order.capture();
              const tx = details?.id || data?.orderID || '';
              localStorage.setItem('lastReceipt', tx);
              updateWhatsAppLink(tx, localStorage.getItem('lastPlan')||'');
              alert('Payment successful! Transaction: ' + tx);
            },
            onError: (err) => {
              console.error('PayPal error:', err);
              alert('PayPal error. You can try the QR options or contact us on WhatsApp.');
            }
          }).render('#paypal-button-container');
        }catch(e){ console.warn('PayPal render error:', e); }
      }
    });

    function loadGames(){
      fetch('branches_cache.json')
        .then(r=>r.json())
        .then(games=>{
          allGames = games;
          currentPage = 1;
          displayGames(getCurrentGames());
          updatePaginationControls(getCurrentGames().length);
        })
        .catch(err=>{
          console.error('Error loading:', err);
          document.getElementById('gamesContainer').innerHTML =
            "<p style='color:#f87171;text-align:center; grid-column:1/-1;'>Failed to load games.</p>";
        });
    }

    function performSearch(){
      currentPage = 1;
      displayGames(getCurrentGames());
      updatePaginationControls(getCurrentGames().length);
      window.scrollTo({top:0, behavior:'smooth'});
    }

    function getCurrentGames(){
      const term = document.getElementById('searchInput').value.toLowerCase();
      if(!term) return allGames;
      return allGames.filter(game=>{
        const appId = (game.st_file||'').split('.')[0];
        return (game.name||'').toLowerCase().includes(term) || (appId||'').includes(term);
      });
    }

    function displayGames(games){
      const container = document.getElementById('gamesContainer');
      const paginationInfo = document.getElementById('paginationInfo');
      container.innerHTML = '';

      if(!games.length){
        container.innerHTML = `<p style="text-align:center;color:var(--text-light); grid-column:1/-1;">No games found.</p>`;
        paginationInfo.textContent = '';
        return;
      }

      const totalPages = Math.ceil(games.length / gamesPerPage);
      const startIndex = (currentPage - 1) * gamesPerPage;
      const endIndex = Math.min(startIndex + gamesPerPage, games.length);
      const pageGames = games.slice(startIndex, endIndex);

      pageGames.forEach(game=>{
        const appId = (game.st_file||'').split('.')[0];
        const dateAdded = game.added_on ? new Date(game.added_on).toLocaleDateString() : '-';
        const denuvoTag = game.requires_membership ? `<span class="denuvo-tag">DENUVO</span>` : '';
        const newBadge = game.new ? `<span class="badge-new">NEW</span>` : '';
        const genreName = GENRE_MAP[Number(game.primary_genre)] || 'Unknown Genre';

        const card = document.createElement('div');
        card.className = 'game-card';
        card.innerHTML = `
          <img src="${appId}.jpg" alt="${game.name||''}" class="game-image" onerror="this.src='placeholder.jpg'">
          <div class="game-info">
            <div class="game-title">${game.name||''} ${newBadge}</div>
            <div class="game-tags">
              <span class="game-id">AppID: ${appId}</span>
              ${denuvoTag}
            </div>
            <div class="game-meta">
              <strong>Added on:</strong> ${dateAdded}<br>
              <strong>Size:</strong> ${game.size_gb || 'Unknown'}<br>
              <strong>Downloads:</strong> ${game.downloads ?? 0}<br>
              <strong>Genre:</strong> ${genreName}<br>
              <strong>Online or Bypass Supported:</strong> ${game.online_supported || 'Unknown'}
            </div>
            <a href="https://store.steampowered.com/app/${appId}" target="_blank" class="steam-link">View on Steam Store</a>
          </div>
        `;
        container.appendChild(card);
      });

      paginationInfo.textContent = `Showing ${startIndex + 1}-${endIndex} of ${games.length} games`;
    }

    function updatePaginationControls(totalGames){
      const totalPages = Math.ceil(totalGames / gamesPerPage);
      const controls = document.getElementById('paginationControls');
      controls.innerHTML = '';

      if(totalPages <= 1){ controls.style.display = 'none'; return; }
      controls.style.display = 'flex';

      const addButton = (label, page, disabled=false, isActive=false)=>{
        const btn = document.createElement('button');
        btn.textContent = label;
        if(disabled) btn.disabled = true;
        if(isActive) btn.classList.add('is-active');
        btn.onclick = ()=>{
          currentPage = page;
          displayGames(getCurrentGames());
          updatePaginationControls(getCurrentGames().length);
          window.scrollTo({top:0, behavior:'smooth'});
        };
        controls.appendChild(btn);
      };

      addButton('¬´ Prev', currentPage - 1, currentPage === 1);

      const maxVisible = 5;
      let start = Math.max(1, currentPage - Math.floor(maxVisible/2));
      let end = Math.min(totalPages, start + maxVisible - 1);
      if(end - start < maxVisible - 1) start = Math.max(1, end - maxVisible + 1);

      if(start > 1){
        addButton('1', 1, false, currentPage === 1);
        if(start > 2){
          const span = document.createElement('span');
          span.textContent = '...';
          span.style.padding = '8px';
          span.style.color = '#9ca3af';
          controls.appendChild(span);
        }
      }

      for(let i=start; i<=end; i++){ addButton(String(i), i, false, i === currentPage); }

      if(end < totalPages){
        if(end < totalPages - 1){
          const span = document.createElement('span');
          span.textContent = '...';
          span.style.padding = '8px';
          span.style.color = '#9ca3af';
          controls.appendChild(span);
        }
        addButton(String(totalPages), totalPages, false, currentPage === totalPages);
      }

      addButton('Next ¬ª', currentPage + 1, currentPage === totalPages);
    }

    /* WhatsApp helper */
    function getReceiptFromURL(){
      try{
        const p = new URLSearchParams(window.location.search);
        return p.get('receipt') || p.get('tx') || p.get('paymentId') || p.get('payment_id') || p.get('token') || '';
      }catch(e){ return ''; }
    }

    function updateWhatsAppLink(receipt, plan){
      const base = "https://wa.me/60138254541";
      const parts = [];
      if(plan) parts.push(`Plan: ${plan}`);
      if(receipt) parts.push(`Receipt: ${receipt}`);
      const info = parts.length ? ` (${parts.join(' | ')})` : '';
      const msg = `Hi Barry, I am interested in Steam Unlock Onennabe${info}.`;
      const url = base + "?text=" + encodeURIComponent(msg);
      const a = document.getElementById('whatsappBtn');
      if(a) a.href = url;
    }

    function showReceiptToast(){ const el = document.getElementById('receiptToast'); if(el) el.style.display = 'block'; }
    function hideReceiptToast(){ const el = document.getElementById('receiptToast'); if(el) el.style.display = 'none'; }
  </script>
  <script>
  paypal.HostedButtons({
    hostedButtonId: "HXJHP8F87YQC6",
  }).render("#paypal-container-HXJHP8F87YQC6")
</script>
</body>
</html>
